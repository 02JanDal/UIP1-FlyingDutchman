const strings = {
  welcome: {
    en: "Welcome, beloved customer!",
    sv: "Välkommen, käre kund!",
  },
  signin: {
    en: "Sign in",
    sv: "Logga in",
  },
  or: {
    en: "or",
    sv: "eller",
  },
  "continue-as-guest": {
    en: "continue as guest",
    sv: "fortsätt som gäst",
  },
  "i-am-customer": {
    en: "I am a Customer",
    sv: "Jag är en Kund",
  },
  "i-am-bartender": {
    en: "I am a Bartender",
    sv: "Jag är en Bartender",
  },
  "vip-customer": {
    en: "VIP Customer",
    sv: "VIP Kund",
  },
  username: {
    en: "Username",
    sv: "Användarnamn",
  },
  password: {
    en: "Password",
    sv: "Lösenord",
  },
  "all-items": {
    en: "All items",
    sv: "   Alla objekt",
  },
  beer: {
    en: "Beer",
    sv: "Öl",
  },
  wine: {
    en: "Wine",
    sv: "Vin",
  },
  "non-alcohol": {
    en: "Non-alcoholic",
    sv: "Alkoholfritt",
  },
  "log-out": {
    en: "Log out",
    sv: "Logga ut",
  },
  cart: {
    en: "Cart",
    sv: "Vagn",
  },
  "manage-stock": {
    en: "Manage stock",
    sv: "Hantera lager",
  },
  "table-orders": {
    en: "Table orders",
    sv: "Bordsbeställningar",
  },
  security: {
    en: "Security",
    sv: "Säkerhet",
  },
  "signin-error": {
    en: "No user found for this username/password",
    sv: "Ingen användare hittad för detta användarnamn/lösenord",
  },
  undo: {
    en: "Undo",
    sv: "Ångra",
  },
  redo: {
    en: "Redo",
    sv: "Upprepa",
  },
  invoice: {
    en: "Order summary",
    sv: "Ordersammanfattning",
  },
  "edit-split": {
    en: "Edit split bills",
    sv: "Redigera delade räkningar",
  },
  "cancel-split": {
    en: "Cancel split bills",
    sv: "Avbryta delade räkningar",
  },
  "add-split": {
    en: "Add split bills",
    sv: "Lägga till delade räkningar",
  },
  "edit-order": {
    en: "Edit order",
    sv: "",
  },
  products: {
    en: "Products",
    sv: "Produkter",
  },
  price: {
    en: "Price",
    sv: "Pris",
  },
  total: {
    en: "Total",
    sv: "Total"
  },
  instructions: {
    en: "Click on the left sidebar to see the menu and start ordering!",
    sv: "Klicka på vänster sidofält för att se menyn och börja beställa!",
  },
  "stock-available": {
    en: "Stock available",
    sv: "Lager tillgänglig",
  },
  "additional-info":{
    en: "Additional information:",
    sv: "Ytterligare information:",
  },
  producer: {
    en: "Producer:",
    sv: "Producent:",
  },
  country: {
    en: "Country:",
    sv: "Land:",
  },
  type: {
    en: "Type:",
    sv: "Typ:",
  },
  strength: {
    en: "Strength:",
    sv: "Styrka:",
  },
  filter: {
    en: "Filter:",
    sv: "Filtera:",
  },
  "how-many-split":{
    en: "How many people are splitting the bill?",
    sv: "Hur många delar på notan?",
  },
  "items-basket":{
    en: "Choose items in the basket",
    sv: "Välj varor i korgen",
  },
  "person": {
    en: "Person",
    sv: "Person",
  },
  "order-no": {
    en: "Order no:",
    sv: "Beställningsnr:",
  },
  "order-successful":{
    en: "Order successful!",
    sv: "Beställningen lyckades",
  },
  "bartender-come": {
    en: "Our bartender will come to you shortly.",
    sv: "Vår bartender kommer till dig inom kort.",
  },
  "item-running-out": {
    en: "The following item(s) are running out:",
    sv: "Följande föremål håller på att ta slut:",
  },
  "user-account": {
    en: "User Account",
    sv: "Användarkonto",
  },
  "personal-information": {
    en: "Personal Information",
    sv: "Personlig information",
  },
  "account-balance": {
    en: "Account Balance",
    sv: "Kontobalans",
  },
  "top-up": {
    en: "Top up",
    sv: "Fylla på",
  },
  "credit-card-info": {
    en: "Credit Card Information",
    sv: "Kreditkortsinformation",
  },
  edit: {
    en: "Edit",
    sv: "Redigera",
  },
  "top-up-balance": {
    en: "Top Up Balance",
    sv: "Fylla på saldo",
  },
  "current-balance": {
    en: "Current Balance",
    sv: "Aktuellt saldo",
  },
  "payment-method": {
    en: "Payment Method",
    sv: "Betalningsmetod",
  },
  "credit-card": {
    en: "Credit Card",
    sv: "Kreditkort",
  },
  cash: {
    en: "Cash",
    sv: "Kontanter",
  },
  pay: {
    en: "Pay",
    sv: "Betala",
  },
  "total-bill": {
    en: "Total Bill",
    sv: "Totala Räkningen",
  },
  "grand-total": {
    en: "Grand Total",
    sv: "Totalsumma",
  },
  "not-enough-balance": {
    en: "Oops! You don't have enough balance in your account!",
    sv: "Hoppsan! Du har inte tillräckligt med saldo på ditt konto!",
  },
  "in-stock": {
    en: "Items in stock:",
    sv: "Artiklar i lager:",
  },
  "show-item": {
    en: "Show item on the menu",
    sv: "Visa objekt på menyn",
  },
  table: {
    en: "Table",
    sv: "Tabell",
  },
  "save-changes": {
    en: "Save changes",
    sv: "Spara ändringar",
  },
  "low-stock": {
    en: "There are less than 5 items left!",
    sv: "Det finns mindre än 5 artiklar kvar!",
  },
  "notify-security": {
    en: "Notify security",
    sv: "Meddela säkerheten",
  },
  "non-urgent": {
    en: "Non-urgent matters",
    sv: "Icke brådskande ärenden",
  },
  "report-situation": {
    en: "Report the situation",
    sv: "Rapportera läget",
  },
  report: {
    en: "Report",
    sv: "Rapportera",
  },
  back: {
    en: "Back",
    sv: "Tillbaka",
  },
  continue: {
    en: "Continue",
    sv: "Fortsätta",
  },
  "place-order": {
    en: "Place order",
    sv: "Beställa",
  },
  "add-to-cart": {
    en: "Add to cart",
    sv: "Lägg till i kundvagn",
  },
  none: {
    en: "None",
    sv: "Ingen",
  },
  "50-content": {
    en: "Alcohol content 30-50%",
    sv: "Alkoholhalt 30-50%",
  },
  "30-content": {
    en: "Alcohol content 10-30%",
    sv: "Alkoholhalt 10-30%",
  },
  "10-content": {
    en: "Alcohol content <10%",
    sv: "Alkoholhalt <10%",
  },
  "select-splitbill": {
    en: "Selecting for:",
    sv: "Välja for:"
  }
};

/**
 * Update UI
 */
export function updateUILocale() {
  const locale = getCurrentLocale();

  // update the buttons
  const swe = document.getElementsByClassName("swedish-button");
  const eng = document.getElementsByClassName("english-button");
  if (locale === "sv") {
    for (const el of swe) {
      el.src = "/images/sweden-activated.png";
    }
    for (const el of eng) {
      el.src = "/images/united-kingdom.png";
    }
  } else {
    for (const el of swe) {
      el.src = "/images/sweden.png";
    }
    for (const el of eng) {
      el.src = "/images/united-kingdom-activated.png";
    }
  }

  // update the strings
  for (const el of document.querySelectorAll("[data-i18n]")) {
    const key = el.attributes.getNamedItem("data-i18n").value;
    if (!strings.hasOwnProperty(key)) {
      console.warn("Missing translation for ", key);
    } else {
      el.innerHTML = strings[key][locale];
    }
  }
}

/**
 * Retrieve the currently selected locale
 *
 * @return {"en"|"sv"}
 */
export function getCurrentLocale() {
  const locale = localStorage.getItem("flyingdutchman_locale");
  if (locale) {
    return locale;
  } else {
    return "sv";
  }
}

/**
 * Change the current locale
 * @param {"en"|"sv"} locale
 */
export function setCurrentLocale(locale) {
  localStorage.setItem("flyingdutchman_locale", locale);
  updateUILocale();
}
